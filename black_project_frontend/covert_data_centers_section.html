            <h1 id="covertDataCentersSection" style="font-size: 32px; font-weight: bold; margin-bottom: 20px; margin-top: 40px; color: #333;">Covert Datacenters</h1>

            <div class="section-description" style="margin-bottom: 20px; text-align: left;">
                The typical datacenter is visible from satellites because of its cooling and electrical equipment. However, states could design datacenters to be much more stealthy. For example, the PRC might build datacenters in ordinary warehouse buildings, power them with shipments of natural gas, and diffuse thermal output underneath bodies of water. If the PRC builds datacenters designed for stealth, how much energy capacity could they provide? 
            </div>
            <!-- Dashboard and Plots in One Row (Flexbox with wrap) -->
            <div id="covertDatacentersTopSection" style="display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 10px; align-items: flex-start;">
                <!-- Datacenter Dashboard -->
                <div class="dashboard" style="flex: 0 0 auto; width: 240px; padding: 20px; display: flex; flex-direction: column; gap: 0; justify-content: flex-start;">
                    <div class="plot-title" style="text-align: center; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin: 0 0 20px 0;">Median outcome</div>
                    <div class="dashboard-item" style="margin: 0 0 20px 0;">
                        <div class="dashboard-value" id="dashboardDatacenterCapacity">--</div>
                        <div class="dashboard-label">Datacenter capacity built before detection</div>
                        <div class="dashboard-sublabel">Detection means a ≥4x update</div>
                    </div>
                    <div class="dashboard-item" style="margin: 0;">
                        <div class="dashboard-value-small" id="dashboardDatacenterTime">--</div>
                        <div class="dashboard-label-light">Years operational before detection</div>
                    </div>
                </div>

                <!-- Capacity CCDF Plot -->
                <div class="plot-container" style="flex: 1 1 200px; min-width: 200px; padding: 20px; display: flex; flex-direction: column; height: auto;">
                    <div class="plot-title" style="text-align: center; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-bottom: 10px; margin-top: 0;">Datacenter capacity built before detection</div>
                    <div id="datacenterCapacityCcdfPlot" class="plot" style="flex: 1; min-height: 0; height: 473px;"></div>
                </div>

                <!-- Simulation Runs Plot -->
                <div class="plot-container" style="flex: 1 1 200px; min-width: 200px; padding: 20px; display: flex; flex-direction: column; height: auto;">
                    <div class="plot-title" style="text-align: center; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-bottom: 10px; margin-top: 0;">Simulation runs</div>
                    <div id="datacenterCombinedPlot" class="plot" style="flex: 1; min-height: 0; height: 473px;"></div>
                </div>
            </div>

            <!-- Breaking Down Covert Datacenter Capacity -->
            <div class="breakdown-section" id="datacenterCapacityBreakdown" style="margin-top: 30px;">
                <h3
                    style="
                        font-size: 20px;
                        font-weight: 600;
                        margin-bottom: 15px;
                        color: #333;
                        text-align: left;
                    "
                >
                    Breaking down covert datacenter capacity
                </h3>
                <div class="section-description">
                    <p>There are two ways to create covert data center capacity:</p>
                    <ol style="margin: 10px 0 10px 20px;">
                        <li>Retrofit existing datacenters that were not built with concealment in mind.</li>
                        <li>Build datacenters that are designed to be stealthy.</li>
                    </ol>
                    <p style="margin-bottom: 10px;"> Retrofitting unconcealed datacenters isn't a good strategy, since the vast majority of these datacenters will be easy to spot with satellites.
                </div>

                <!-- Unconcealed datacenter capacity breakdown row -->
                <div class="breakdown-plots-row" style="margin-bottom: 30px;">
                    <!-- PRC datacenter capacity over time plot -->
                    <div class="breakdown-item">
                        <div id="prcDatacenterCapacityOverTimePlot" class="breakdown-plot"></div>
                        <div class="breakdown-label">Unconcealed PRC datacenter capacity</div>
                        <div class="breakdown-description">The capacity of datacenters not built with concealment in mind, which we assume is equal to the energy consumption of the total operating PRC chip stock.</div>
                    </div>

                    <div class="operator" style="position: relative; height: 240px; width: 100px; display: flex; align-items: center; justify-content: center;">
                        <div style="font-size: 20px; font-weight: bold; color: #666;">→</div>
                        <div style="position: absolute; top: 80px; font-size: 12px; color: #666; white-space: nowrap;">Plug in <span class="agreement-year-display">--</span></div>
                    </div>

                    <!-- Total PRC datacenter capacity not built for concealment -->
                    <div class="breakdown-item">
                        <div id="totalPrcDatacenterCapacityPlot" class="breakdown-plot"></div>
                        <div class="breakdown-label">Unconcealed PRC datacenter capacity in <span class="agreement-year-display">--</span></div>
                        <div class="breakdown-description">Total capacity of PRC datacenters in <span class="agreement-year-display">--</span> not deliberately designed for stealth.</div>
                    </div>

                    <div class="operator">
                        ×
                    </div>

                    <!-- Proportion diverted -->
                    <div class="breakdown-box-item">
                        <div id="proportionUnconcealedDivertedDisplay" class="breakdown-box sidebar-link" data-sidebar-target="fraction_of_datacenter_capacity_not_built_for_concealment_diverted">
                            <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                <div>--</div>
                                <div class="breakdown-label">Proportion diverted to covert project</div>
                            </div>
                        </div>
                    </div>

                    <div class="operator">
                        =
                    </div>

                    <!-- Covert datacenter capacity not built for concealment -->
                    <div class="breakdown-box-item">
                        <div id="covertDatacenterCapacityUnconcealedDisplay" class="breakdown-box">
                            <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                <div>--</div>
                                <div class="breakdown-label">Capacity of datacenters retrofitted for secrecy.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section-description" style="margin-top: 30px;">
                    <p>A much better strategy is to build datacenters that are designed for stealth. The PRC builds these datacenters as quickly as it can do so with a small workforce. However, if the PRC builds too much covert datacenter capacity, energy consumption becomes hard to hide. So the PRC only builds covert datacenters up to some maximum proportion of total PRC energy consumption.</p>
                </div>

                <div class="breakdown-plots-row">
                    <!-- Min function start -->
                    <div class="operator" style="position: relative; height: 240px; display: flex; align-items: center; justify-content: center;">
                        <div style="font-size: 28px; font-weight: bold; color: #666;">Min[</div>
                    </div>

                    <!-- Total PRC energy consumption box -->
                    <div class="breakdown-box-item has-tooltip" data-tooltip-file="tooltips/prc_energy_consumption.html">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <div id="totalPrcEnergyDisplay" class="breakdown-box">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                    <div>--</div>
                                    <div class="breakdown-label">Total PRC energy<br>consumption</div>
                                </div>
                            </div>
                            <div class="operator-inline">
                                ×
                            </div>
                        </div>
                    </div>

                    <div class="operator">
                        ×
                    </div>

                    <!-- Max proportion box -->
                    <div class="breakdown-box-item has-tooltip" data-tooltip-file="tooltips/max_energy_proportion.html">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <div id="maxProportionEnergyDisplay" class="breakdown-box">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                    <div>--</div>
                                    <div class="breakdown-label">Max % energy</div>
                                </div>
                            </div>
                            <div class="operator-inline">
                                −
                            </div>
                        </div>
                    </div>

                    <div class="operator">
                        −
                    </div>

                    <!-- Covert unconcealed capacity box -->
                    <div class="breakdown-box-item">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <div id="covertUnconcealedCapacityDisplay" class="breakdown-box">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                    <div>--</div>
                                    <div class="breakdown-label">Capacity of covert datacenters<br>not built for concealment</div>
                                </div>
                            </div>
                            <div class="operator-inline">
                                ,
                            </div>
                        </div>
                    </div>

                    <div class="operator">
                        ,
                    </div>

                    <!-- Number of datacenter workers box -->
                    <div class="breakdown-box-item has-tooltip" data-tooltip-file="tooltips/project_property.html">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <div id="datacenterWorkersDisplay" class="breakdown-box">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                    <div>--</div>
                                    <div class="breakdown-label">Construction<br>workers</div>
                                </div>
                            </div>
                            <div class="operator-inline">
                                ×
                            </div>
                        </div>
                    </div>

                    <div class="operator">
                        ×
                    </div>

                    <!-- MW per worker box -->
                    <div class="breakdown-box-item has-tooltip" data-tooltip-file="tooltips/mw_per_worker.html">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <div id="mwPerWorkerDisplay" class="breakdown-box">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                    <div>--</div>
                                    <div class="breakdown-label">MW built per<br>worker per year</div>
                                </div>
                            </div>
                            <div class="operator-inline">
                                × (year −
                            </div>
                        </div>
                    </div>

                    <div class="operator">
                        × (year −
                    </div>

                    <!-- Agreement year box -->
                    <div class="breakdown-box-item has-tooltip" data-tooltip-file="tooltips/datacenter_start_year.html">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <div id="agreementYearDisplay" class="breakdown-box">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                    <div>--</div>
                                    <div class="breakdown-label">Year PRC starts building<br>covert datacenters</div>
                                </div>
                            </div>
                            <div class="operator-inline">
                                )
                            </div>
                        </div>
                    </div>

                    <div class="operator">
                        )
                    </div>

                    <div class="operator" style="position: relative; height: 240px; display: flex; align-items: center; justify-content: center;">
                        <div style="font-size: 28px; font-weight: bold; color: #666;">]</div>
                    </div>

                    <div class="operator" style="position: relative; height: 240px; display: flex; align-items: center; justify-content: center;">
                        <div style="font-size: 20px; font-weight: bold; color: #666;">=</div>
                    </div>

                    <!-- Datacenter capacity plot -->
                    <div class="breakdown-item">
                        <div id="datacenterCapacityBreakdownPlot" class="breakdown-plot"></div>
                        <div class="breakdown-label">Capacity of datacenters built for concealment</div>
                        <div class="breakdown-description">The cumulative capacity of covert datacenters built by the construction workforce, capped by maximum energy consumption limits minus unconcealed covert capacity.</div>
                    </div>
                </div>
            </div>

