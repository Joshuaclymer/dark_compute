<!-- Dark Compute Model - Rate of Computation Section -->
<div class="breakdown-section" style="margin-top: 30px; margin-bottom: 30px">
  <h2
    style="
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 10px;
      color: #222;
      text-align: left;
      letter-spacing: -0.5px;
    "
  >
    How we estimate covert computation
  </h2>
  <div style="display: flex; gap: 30px; align-items: center; margin-bottom: 15px;">
    <div
      class="section-description"
      style="
        text-align: left;
        font-size: 15px;
        line-height: 1.7;
        color: #555;
        flex: 1;
        max-width: 1500px;
      "
    >
      Figure 1 summarizes our approach:<br>
      1. First, we come up with a model that maps <span
      class="param-link"
      onclick="const input = document.getElementById('proportion_of_initial_chip_stock_to_divert'); if (input) { input.scrollIntoView({ behavior: 'smooth', block: 'center' }); input.focus(); input.select(); }"
      >project properties</span> (such as how many chips are diverted, how many workers are involved, etc.) to the project's <strong>rate of computation</strong> and its <strong>likelihood of detection</strong> over time.<br>
      2. Then, we identify the <span
      class="param-link"
      onclick="const input = document.getElementById('proportion_of_initial_chip_stock_to_divert'); if (input) { input.scrollIntoView({ behavior: 'smooth', block: 'center' }); input.focus(); input.select(); }"
      >project properties</span> that maximize <strong>covert computation</strong> - the computation performed before detection. This requires striking a balance between keeping the covert project large enough to operate lots of compute, but small enough to remain hidden.<br>
      3. Finally, we predict how much <strong>covert computation</strong> the PRC might perform given worst-case <span
      class="param-link"
      onclick="const input = document.getElementById('proportion_of_initial_chip_stock_to_divert'); if (input) { input.scrollIntoView({ behavior: 'smooth', block: 'center' }); input.focus(); input.select(); }"
      >project properties</span>.<br><br>

      The next sections expand on the first step: how we came up with the mapping from <span
      class="param-link"
      onclick="const input = document.getElementById('proportion_of_initial_chip_stock_to_divert'); if (input) { input.scrollIntoView({ behavior: 'smooth', block: 'center' }); input.focus(); input.select(); }"
      >project properties</span> to <strong>rate of computation</strong> and <strong>detection likelihood</strong>. 
    </div>

    <!-- Diagram as SVG -->
    <div style="flex: 1; display: flex; flex-direction: column; justify-content: flex-start; align-items: center;">
      <img src="model_diagram.svg" alt="Overview of the model" style="width: 100%; max-width: 540px; height: auto;" />
      <div style="text-align: center; margin-top: 6px; font-style: italic; font-size: 11px; color: #666;">Figure 1. Overview of our forecasting methodology.</div>
    </div>
  </div>
  <div style="display: flex; position: relative; max-width: 100%; overflow: hidden;">
    <div style="flex: 1; position: relative; max-width: 100%;">
      <!-- Unreported Computation Section -->
      <div style="position: relative; padding-bottom: 10px; padding-top: 20px">
        <h3
          style="
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
            text-align: left;
          "
        >
          Predicting the rate of computation
        </h3>

        <div
          class="section-description"
          style="max-width: 900px; text-align: left"

        >
          The rate of computation depends on a covert project's <strong>stock of AI chips</strong> and the <strong>capacity of covert datacenters</strong>. The PRC must have a sufficient amount of both to operate compute.
        </div>

        <!-- Continuous outline for both subsections -->
        <div style="border-left: 2px solid #ccc; padding-left: 25px; margin-left: 5px; margin-top: 20px;">
          <!-- Unreported AI Chips subsection -->
          <div style="position: relative">
            <span style="position: absolute; left: -26px; top: 50%; transform: translateY(-50%); color: #ccc; font-size: 22px; line-height: 1;">—</span>
            <div class="section-description" style="max-width: 900px; text-align: left">
              The PRC's <strong>stock of AI chips</strong> is the <em>initial stock</em> it diverts to a covert project, plus the AI chips the PRC <em>acquires</em> after the agreement is in force, multiplied by the fraction that survives <em>degradation and failure</em> over time. 
            </div>
          </div>

        <!-- Dark Compute Equation Section -->
        <div
          style="
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-top: 40px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            max-width: 100%;
          "
        >
          <div
            style="
              font-size: 120px;
              font-weight: 300;
              color: #666;
              flex: 0 0 30px;
              text-align: center;
              line-height: 250px;
              margin-top: 5px;
            "
          >
            [
          </div>
          <div class="breakdown-item has-tooltip" data-tooltip="Click for more details" style="cursor: pointer; position: relative;" onclick="document.getElementById('initialStockSection').scrollIntoView({ behavior: 'smooth', block: 'start' });">
            <div
              id="initialDarkComputePlot"
              class="breakdown-plot"
              style="height: 250px"
            ></div>
            <div class="breakdown-label" style="text-align: center">
              Initial covert chip stock
            </div>
            <div class="breakdown-description" style="text-align: center" onclick="event.stopPropagation()">
              Assuming the PRC initially has ~<span id="param-initial-prc-compute" class="param-link">1M</span> H100e, and diverts <span id="param-diversion-percent" class="param-link">5</span>% before the agreement goes into force.
            </div>
          </div>
          <div class="operator">
            +
          </div>
          <div class="breakdown-item has-tooltip" data-tooltip="Click for more details" style="cursor: pointer; position: relative;" onclick="document.getElementById('covertFabSection').scrollIntoView({ behavior: 'smooth', block: 'start' });">
            <div
              id="covertFabFlowPlot"
              class="breakdown-plot"
              style="height: 250px"
            ></div>
            <div class="breakdown-label" style="text-align: center">
              Acquired hardware
            </div>
            <div class="breakdown-description" style="text-align: center" onclick="event.stopPropagation()">
              Assuming the PRC diverts <span id="param-sme-diversion-percent" class="param-link">10</span>% of indigenous ≤<span id="param-fab-node" class="param-link">28</span>nm SME before the agreement goes into force.
            </div>
          </div>
          <div
            style="
              font-size: 120px;
              font-weight: 300;
              color: #666;
              flex: 0 0 30px;
              text-align: center;
              line-height: 250px;
              margin-top: 5px;
            "
          >
            ]
          </div>
          <div class="operator">
            ×
          </div>
          <div class="breakdown-item has-tooltip" data-tooltip-file="tooltips/ai_chip_lifespan.html">
            <div
              id="chipSurvivalPlot"
              class="breakdown-plot"
              style="height: 250px"
            ></div>
            <div class="breakdown-label" style="text-align: center">
             Surviving fraction of compute
            </div>
            <div class="breakdown-description" style="text-align: center">
              The fraction of compute that remains operational at a given point
              in time, accounting for degradation and failure.
            </div>
          </div>
          <div class="operator">
            =
          </div>
          <div class="breakdown-item">
            <div
              id="totalDarkComputePlot"
              class="breakdown-plot"
              style="height: 250px"
            ></div>
            <div class="breakdown-label" style="text-align: center">
             Covert chip stock
            </div>
            <div class="breakdown-description" style="text-align: center">
              Total untraced compute available to a covert PRC project.
            </div>
          </div>
        </div>

        <!-- Unreported Datacenters subsection (still within the same border) -->
        <div style="position: relative; margin-top: 20px;">
          <span style="position: absolute; left: -26px; top: 50%; transform: translateY(-50%); color: #ccc; font-size: 22px; line-height: 1;">—</span>
          <div
            class="section-description"
            style="max-width: 900px; text-align: left"
          >
            The PRC can only operate these AI chips if there's enough <strong>covert datacenter capacity</strong>, which grows linearly over time as more datacenters are constructed with a small and stealthy workforce. 
          </div>
        </div>

        <div
          style="
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-top: 40px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            max-width: 100%;
          "
        >
          <div class="breakdown-item has-tooltip" data-tooltip="Click for more details" style="cursor: pointer; position: relative;" onclick="document.getElementById('covertDataCentersSection').scrollIntoView({ behavior: 'smooth', block: 'start' });">
            <div id="datacenterCapacityPlot2" class="breakdown-plot"></div>
            <div class="breakdown-label" style="text-align: center">
             Unreported datacenter capacity
            </div>
            <div class="breakdown-description" style="text-align: center" onclick="event.stopPropagation()">
              Assuming <span id="param-datacenter-workers-2" class="param-link">10,000</span> workers construct covert datacenters continually, and <span id="param-mw-per-worker" class="param-link">X</span> MW are constructed by each worker per year on average.
            </div>
          </div>
          <div style="position: relative; flex: 0 0 30px; text-align: center; margin-top: 120px;">
            <div
              style="
                position: absolute;
                top: -15px;
                left: 50%;
                transform: translateX(-50%);
                font-size: 13px;
                font-weight: bold;
                text-align: center;
                color: #888;
                white-space: nowrap;
              "
            >
              Limits
            </div>
            <div style="font-size: 20px; color: #666">→</div>
          </div>
          <div class="breakdown-item has-tooltip" data-tooltip="Chip energy efficiency is discussed in the sections &quot;initial stock&quot; and &quot;covert fab.&quot;">
            <div id="darkComputeEnergyPlot" class="breakdown-plot"></div>
            <div class="breakdown-label" style="text-align: center">
              Chip stock energy usage (medians)
            </div>
            <div class="breakdown-description" style="text-align: center">
              Energy required to run untraced AI chips at full capacity.
            </div>
          </div>
          <div class="operator">
            =
          </div>
          <div class="breakdown-item">
            <div id="operationalDarkComputePlot" class="breakdown-plot"></div>
            <div class="breakdown-label" style="text-align: center">
              Operating AI chips
            </div>
            <div class="breakdown-description" style="text-align: center">
              Quantity of compute operated in PRC covert datacenters.
            </div>
          </div>
          <div class="operator">
            =
          </div>
          <div class="breakdown-item">
            <div id="covertComputationPlot" class="breakdown-plot"></div>
            <div class="breakdown-label" style="text-align: center">
              Covert computation
            </div>
            <div class="breakdown-description" style="text-align: center">
              H100-years of computation calculated cumulatively.
            </div>
          </div>
        </div>
        </div>
        <!-- End continuous outline for rate of computation -->
      </div>
    </div>
  </div>

  <!-- Predicting the likelihood of detection (within the same "How we estimate" box) -->
  {% include 'dark_compute_detection_section_content.html' %}
</div>

<p style="font-size: 16px; color: #666; margin-top: 5px;">
  <span class="desktop-only">The next sections break down these components in greater detail.</span>
  <span class="mobile-only">View the page on desktop for a more detailed breakdown.</span>
</p>
